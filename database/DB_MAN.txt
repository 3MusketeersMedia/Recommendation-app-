Install postgres on a system

--------------------------------------

$: sudo apt install python2
$: curl https://bootstrap.pypa.io/pip/2.7/get-pip.py --output get-pip.py
$: sudo python2 get-pip.py
$: pip2 install psycopg2

run with python2 or above in this case
install on whatever python version you want

-------------------------------------

Example of how to use file in a sample python doc
-------------------------------------

import statements
exec(open("database.py").read())

miscellaneous code

connection = open_DBConnection()

interact with data here

close_DBConnection(connection)

miscellaneous code

-------------------------------------
Example of how to get data in max list size chunks,
If the db has more entries than the max list size in python.

import statements
exec(open("database.py").read())

miscellaneous code

connection = open_DBConnection()


#example 1: check if num items have been got
num = num_items(connection)
list_of_items = get_by_query(connection)
num_items_got = sizeof(list_of_items)
while(num_items_got < num):
	operate on list of items
	list_of_items = get_next(connection)
	num_items_got += sizeof(list_of_items)


#example 2: check if return is empty
list_of items = get_by_query(connection)
while(1):
	operate on list of items
	list_of_items = get_next(connection)
	if list_of_items is empty:
		break


close_DBConnection(connection)

miscellaneous code
--------------------------------------


Outline of table structure:

Default table is called 'media', this will contain all of the media
that we would want to preload into our database

MEDIA:
entry -> name, mediaType, ID

You can create tables, to track user liked and watched list:
use -> create_user_table()

USERS: 
entry -> username, password_hash, password_salt, user_id

'name of table':
entry -> watched, liked, ID

----------------------------------------




List of functions:
	open_DBConnection(dict_cursor=False) -> open connection to db
	close_DBConnection(pair) -> close connection to db
	
	set_data(pair, name, mediaType, year, link, genres, rating, running_time, ID) -> set entry or insert new entry into media table
	set_user_data(pair, watched, liked, ID) -> set user table entry or insert new entry
	set_data_id(pair, oldID, newID, table="media") -> set id of existing data point
	set_data_liked(pair, ID, liked, user) -> set boolean liked value of data with ID
	set_data_watched(pair, ID, watched, user) -> set boolean watched value of data with ID
	
	get_by_name(pair, name) -> get all entries of a given name
	get_by_id(pair, ID, table="media") -> get entry by ID
	get_by_mediaType(pair, mediaType) -> get entry by mediaType
	get_by_liked(pair, table, liked=True) -> get all liked elements
	get_by_watched(pair, table, watched=True) -> get all watched elements
	get_next(pair) -> get the next MAX_LIST_SIZE elements of previous get_by_something() query 
	get_all(pair, table="media") -> get all items in table
	
	delete_data(pair, ID, table) -> delete a data point
	delete_table(pair, table) -> delete table, need to redo exec(...) to reinitialize it
	create_user_table(pair, table) -> create table	

	clear_data(pair, table) -> clear table
	num_items(pair, table="media") -> give num_items in table

Function Details:

open_DBConnection(dict_cursor=False):
	Constraints:
		none
	Parameters:
		dict_cursor -> boolean, if true queries will return of dictionary instead of an array
	Return Type:
		pair-> a tuple with (connection, database, dict_cursor) store this value for other functions when interacting with db

close_DBConnection(pair):
	Constraints:
		database must be open first
	Parameters:
		pair->tuple from open_DBConnection()
	Return Type:
		none

add_user(pair, username, password_hash, password_salt, user_id):
        Constraints:
                Cannot reset user_id
                user_id MUST BE UNIQUE, everthing else can have duplicates
        Parameters:
                pair -> (connection, database) tuple from open_DBConnection()
        	username -> string
		password_hash -> string
		password_salt -> string
		user_id -> string
	Return Type:
                none

set_data(pair, name, mediaType, ID):
	Constraints:
		Cannot reset ID
		ID MUST BE UNIQUE, everthing else can have duplicates
	Parameters:
		pair -> (connection, database) tuple from open_DBConnection()
		name -> string
		mediaType -> The following strings: 'movie', 'tv show', 'short film', 'anime', or 'manga'
		year -> int
		link -> string
		genres -> string of genres separated by a space: 'horror thriller action adventure'
		rating -> decimal up to 5 decimal places
		running_time -> decimal, in MINUTES, up to 5 decimal places
		ID -> string
	Return Type:
		none

set_user_data(pair, watched, liked, ID):
        Constraints:
                Cannot reset ID
                ID MUST BE UNIQUE, everthing else can have duplicates
        Parameters:
                pair -> (connection, database) tuple from open_DBConnection()
                watched -> boolean 
                liked -> boolean
                ID -> string
        Return Type:
                none

set_data_id(pair, oldID, newID, table="media"):
	Constraints:
		All ID's must be unique
	Paremeters:
		pair -> tuple from open_DBConnection()
		oldID -> string
		newID -> string
		table -> string name of table
	Return Type:
		none

set_data_liked(pair, ID, user, liked=True):
        Constraints:
                none
        Parameters:
                pair -> tuple from openDBConnection()
		ID -> string
		user-> string of user table to update
		liked -> boolean
        Return Type:
                none

set_data_watched(pair, ID, user, watched=True):
        Constraints:
                none
        Parameters:
                pair -> tuple from openDBConnection()
                ID -> string
                user-> string of user table to update
                watched -> boolean
        Return Type:
                none

Get Commands: for each get command, it will return an empty list if no elements found -------------------

get_by_name(pair, name):
	Constraints:
		none
	Paremeters:
		pair -> tuple from open_DBConnection()
		name -> string
	Return Type:
		list of tuples -> MAX_LIST_SIZE list of (name, mediaType, ID)

get_by_id(pair, ID, table="media"):
	Constraints:
		Works with media table, users table, and
		tables made with create_user_table.
		If the table is media or a created table, it will look for movie ID's
		If the table is users it will look for user ID
	Paremeters:
		pair -> tuple from open_DBConnection()
		ID -> string
		table -> string name of table
	Return Type:
		tuple -> (name, mediaType, ID)

get_by_mediaType(pair, mediaType):
	Constraints:
		none
	Paremeters:
		pair -> tuple from open_DBConnection()
		mediaType -> string
	Return Type:
		list of tuples -> MAX_LIST_SIZE list of (name, mediaType, ID)

get_by_liked(pair, table, liked=True):
        Constraints:
                none
        Parameters:
                pair -> tuple from openDBConnection()
		table -> string name of table
		liked -> boolean
        Return Type:
                list of tuples -> list of liked entries

get_by_watched(pair, table, watched=True):
        Constraints:
                none
        Parameters:
                pair -> tuple from openDBConnection()
                table -> string name of table
		watched -> boolean
        Return Type:
                list of tuples -> list of liked entries

get_next(pair):
        Constraints:
                none
        Parameters:
                pair -> tuple from openDBConnection()
        Return Type:
                list of tuples -> MAX_LIST_SIZE chunk of tuples that are in the db

get_all(pair, table="media"):
	Constraints:
		none
	Parameters:
		pair -> tuple from openDBConnection()
		table -> string of table name
	Return Type:
		list of tuples -> next MAX_LIST_SIZE chunk of tuples (next chunk of a previous get query)

End of Get Commands---------------------------------------------------------------------------------------


delete_data(pair, ID, table="media"):
	Constraints:
		Must Exist
	Paremeters:
		pair -> tuple from open_DBConnection
		ID -> string
		table-> string that is the name of the table
	Return Type:
		none

delete_table(pair, table):
        Constraints:
		Don't delete 'media' table
		If you do, re-execute exec(...)
        Parameters:
                pair -> tuple from openDBConnection()
		table -> string
        Return Type:
                none

create_user_table(pair, user):
        Constraints:
        	If table already exists, nothing will happen
		even if table has new columns
		User string cannot have spaces
	Parameters:
                pair -> tuple from openDBConnection()
                user -> string that is name of the table
        Return Type:
                none

clear_data(pair, table):
	Constraints:
		none
	Paremeters:
		pair -> tuple from open_DBConnection
		table -> string name of table
	Return Type:
		none

num_items(pair, table="media"):
        Constraints:
                none
        Paremeters:
                pair -> tuple from open_DBConnection
		table -> string name of table
        Return Type:
                int -> number of items in database

